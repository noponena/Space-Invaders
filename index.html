<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Space Invaders</title>
    <meta charset="utf-8"/>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
    			  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    			  crossorigin="anonymous"></script>
    <script src="p5.min.js" type="text/javascript"></script>
    <script src="addons/p5.dom.js" type="text/javascript"></script>
    <script src="spaceinvaders.js" type="text/javascript"></script>
    <script src="ship.js" type="text/javascript"></script>
    <script src="alien.js" type="text/javascript"></script>
    <script src="laser.js" type="text/javascript"></script>
    <script src="super_laser.js" type="text/javascript"></script>
    <script src="bonus_alien.js" type="text/javascript"></script>
    <script src="addons/p5.sound.js" type="text/javascript"></script>

    <script>

    $(document).ready( function() {

      window.addEventListener("message", function(evt) {
        if(evt.data.messageType === "LOAD") {

          var ship_location = evt.data.gameState.locations.ship;
          var alien_locations = evt.data.gameState.locations.aliens;
          var bonus = evt.data.gameState.bonus_lasers;
          loadGameState(ship_location, alien_locations, bonus);

        } else if (evt.data.messageType === "ERROR") {

          alert(evt.data.info);

        }
      });

      var setting = {
        "messageType": "SETTING",
        "options": {
          "width": 600,
          "height": 700
        }
      };

      window.postMessage(setting, "*");
    });

    </script>

  </head>
  <body>
  </body>
</html>
